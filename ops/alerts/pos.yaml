groups:
- name: nexa-pos
  rules:
  - alert: NexaPOSWebhookFailures
    expr: sum(increase(nexa_pos_webhook_total{status="error"}[10m])) > 0
    for: 5m
    labels: { severity: page }
    annotations: { summary: "POS webhooks failing", description: "Errors seen in last 10m" }
  - alert: NexaPOSReconcileLagHigh
    expr: nexa_pos_reconcile_lag_seconds > 300
    for: 10m
    labels: { severity: warn }
    annotations: { summary: "POS reconcile lag high", description: "Oldest pending > 5 minutes" }


